"use strict";(self.webpackChunkaddress_issuer=self.webpackChunkaddress_issuer||[]).push([[869],{5192:function(e,t,n){n.d(t,{H:function(){return a}});n(2791);var r=n(184),a=function(e){var t=e.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"robots",content:"noindex, follow"}),(0,r.jsx)("meta",{name:"description",content:"Debi Check Query System"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,r.jsxs)("title",{children:["Addr | ",t]})]})}},5869:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r,a=n(168),s=n(885),i=n(2791),d=n(5953),l=n(6015),o=n(3118),c=n(5651),m=n(7985),u=n(5803),x=n(4565),h=n(1508),p=n(7205),f=n(6863),j=n(1087),g=n(5192),v=n(1413),Z=n(4165),b=n(5861),y=n(7762),_=n(4142),w=n(6650),S=n(5017),C=n(8055),k=n(9365),P=n(826),A=n(4020),E=n(2506),I=n(5206),F=n(1044),R=n(7792),q=n(6571),z=n(9204),D=n(938),G=n(3828),J=n(6591),N=n(184),B=J.mj+"/credential",H=J.mj+"/email-credential",L=["JPEG","JPG"],Q=function(e){var t=e.handleNext,n=(0,_.Z)(),r=(0,i.useState)(!1),a=(0,s.Z)(r,2),o=a[0],c=a[1],m=(0,i.useState)(""),u=(0,s.Z)(m,2),f=u[0],j=u[1],g=(0,i.useState)(""),Q=(0,s.Z)(g,2),T=Q[0],M=Q[1],O=(0,i.useState)(""),U=(0,s.Z)(O,2),V=U[0],W=U[1],Y=(0,i.useState)(""),$=(0,s.Z)(Y,2),K=$[0],X=$[1],ee=(0,i.useState)(""),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ae=(0,i.useState)(""),se=(0,s.Z)(ae,2),ie=se[0],de=se[1],le=(0,i.useState)(""),oe=(0,s.Z)(le,2),ce=oe[0],me=oe[1],ue=(0,i.useState)(""),xe=(0,s.Z)(ue,2),he=xe[0],pe=xe[1],fe=(0,i.useState)(""),je=(0,s.Z)(fe,2),ge=je[0],ve=je[1],Ze=(0,i.useState)(null),be=(0,s.Z)(Ze,2),ye=be[0],_e=be[1],we="address";(0,i.useEffect)((function(){var e=function(){window.address=new window.google.maps.places.Autocomplete(document.getElementById(we),{});window.address.addListener("place_changed",(function(){var e,t=window.address.getPlace(),n=(0,y.Z)(t.address_components);try{for(n.s();!(e=n.n()).done;){var r=e.value;switch(r.types[0]){case"street_number":M(r.long_name);break;case"route":W(r.long_name);break;case"sublocality_level_1":X(r.long_name);break;case"locality":re(r.long_name);break;case"administrative_area_level_2":de(r.long_name);break;case"administrative_area_level_1":me(r.short_name);break;case"postal_code":pe(r.long_name);break;case"country":ve(r.short_name);break;default:console.log("irrelevant component type")}}}catch(a){n.e(a)}finally{n.f()}}))},t=!!document.getElementById("placesScript");if(!t){var n=document.createElement("script");n.id="placesScript",n.src="https://maps.googleapis.com/maps/api/js?key="+J.i$+"&libraries=places",n.async=!0,n.onload=function(){return e()},document.body.appendChild(n)}t&&document.getElementById("placesScript").addEventListener("load",e)}),[we,ie,T,ce]);var Se=function(){var e=(0,b.Z)((0,Z.Z)().mark((function e(n){return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,I.Am.promise(F.ZP.post(B,n).then((function(e){sessionStorage.setItem("credential",e.data.credential),I.Am.success("Credential generated!"),setTimeout((function(){t()}),1e3)})).catch((function(e){I.Am.error(e.response.data.msg)})),{pending:"Generating credential..."});case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,b.Z)((0,Z.Z)().mark((function e(t){return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,I.Am.promise(F.ZP.post(H,t).then((function(e){sessionStorage.setItem("credential",e.data.credential),I.Am.success("Emailed credential!")})).catch((function(e){I.Am.error(e.response.data.msg)})),{pending:"Emailing credential..."});case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){Pe(e,(function(e){_e(e)}))},Pe=function(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){console.log("Error: ",e)}};return(0,N.jsxs)(d.ZP,{container:!0,children:[(0,N.jsx)(d.ZP,{item:!0,xs:0,md:2}),(0,N.jsx)(d.ZP,{item:!0,xs:12,md:8,children:(0,N.jsx)(w.Z,{square:!0,elevation:2,sx:{p:5,width:{md:"100%"},backgroundColor:n.palette.mode===J.cp?"#fff":"",borderRadius:5},children:(0,N.jsx)(E.J9,{initialValues:{address_line:"",city:"",province:"",postal_code:"",country_code:"",statement_date:"",statement_image:"",self_attested:"",email:""},onSubmit:function(e){""===e.email?Se(e):Ce(e)},children:function(e){var t=e.values,n=e.handleChange,r=e.setFieldValue;return(0,N.jsxs)(E.l0,{children:[(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:we,name:"search",label:"Search for your address",value:f,onChange:function(e){return j(e.target.value)},sx:{m:"1rem"},required:!0,fullWidth:!0})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"address_line",name:"address_line",value:t.address_line=T+" "+V+" "+K+" "+ne,onChange:n,label:"Address",sx:{m:"1rem",width:"70%",cursor:"not-allowed"},disabled:!0})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"city",name:"city",value:t.city=ie,onChange:n,label:"City",sx:{m:"1rem",width:"70%",cursor:"not-allowed"},disabled:!0})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"province",name:"province",value:t.province=ce,onChange:n,label:"Province",sx:{m:"1rem",width:"70%",cursor:"not-allowed"},disabled:!0})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"postal_code",name:"postal_code",value:t.postal_code=he,onChange:n,label:"Postal Code",sx:{m:"1rem",width:"70%",cursor:"not-allowed"},disabled:!0})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"country_code",name:"country_code",value:t.country_code=ge,onChange:n,label:"Country Code",sx:{m:"1rem",width:"70%",cursor:"not-allowed"},disabled:!0})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(q._,{dateAdapter:R.y,children:(0,N.jsx)(z.M,{label:"Statement Date",value:t.statement_date,onChange:function(e){return r("statement_date",e,!0)},renderInput:function(e){return(0,N.jsx)(S.Z,(0,v.Z)((0,v.Z)({id:"statement_date",name:"statement_date"},e),{},{sx:{m:"1rem",width:"14.5rem"},required:!0}))}})}),(0,N.jsxs)(C.Z,{sx:{width:"16.5rem"},children:[(0,N.jsx)(k.Z,{id:"self_attested",sx:{margin:"1rem 0 0 1rem"},required:!0,children:"Self Attested"}),(0,N.jsxs)(P.Z,{labelId:"self_attested",id:"self_attested",name:"self_attested",value:t.self_attested,label:"Self Attested",onChange:n,required:!0,sx:{m:"1rem"},children:[(0,N.jsx)(A.Z,{value:"N",children:"N"}),(0,N.jsx)(A.Z,{value:"Y",children:"Y"})]})]})]}),(0,N.jsx)(D.b,{name:"statement",handleChange:ke,types:L,maxSize:.1,onSizeError:function(){return I.Am.error("Image is too large. Max size is 100kb.")},onTypeError:function(){return I.Am.error("Incorrect file type.")},children:(0,N.jsx)(l.Z,{sx:{width:"100%",height:"20rem",borderRadius:"0.5rem",border:"1px dashed #de5353",p:ye?"1rem":"5rem",cursor:"pointer"},children:ye?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("img",{src:ye,alt:"statement",style:{maxWidth:400,maxHeight:280}}),(0,N.jsx)(S.Z,{id:"statement_image",name:"statement_image",value:t.statement_image=ye,required:!0,sx:{display:"none"}})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(x.Z,{variant:"h5",children:[(0,N.jsx)(G.Z,{})," Upload or Drag an image of your statement"]}),(0,N.jsx)(x.Z,{children:"Type: JPEG or JPG | Max Size: 100kb"})]})})}),(0,N.jsx)("div",{children:(0,N.jsx)(S.Z,{id:"email",name:"email",type:"email",value:t.email,onChange:n,label:"Email",sx:{m:"1rem"},helperText:(0,N.jsx)(h.Z,{severity:"info",sx:{backgroundColor:"transparent"},children:"Optional: If you want to receive your credential via email."})})}),(0,N.jsx)("div",{children:(0,N.jsx)(p.Z,{variant:"contained",size:"small",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:o,children:"Submit"})})]})}})})}),(0,N.jsx)(d.ZP,{item:!0,xs:0,md:2})]})},T=n(925),M=function(){var e=(0,_.Z)(),t=sessionStorage.getItem("credential");return(0,N.jsx)("div",{style:{backgroundColor:e.palette.mode===J.cp?"":"#F5F5F5",padding:e.palette.mode===J.cp?"":5,borderRadius:e.palette.mode===J.cp?"":5},children:t?(0,N.jsx)(T.Z,{value:t}):"No QR code to scan!"})},O=[{label:"Enter Details",description:"Please capture your details that will be stored in your credential."},{label:"Scan QR Code",description:"Please scan the QR code with your mobile wallet app to receive your Physical Address Credential."}],U=(0,f.ZP)(j.OL)(r||(r=(0,a.Z)(["\n\ttext-decoration: none;\n\tcolor: inherit;\n"]))),V=function(){var e=(0,i.useState)(0),t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(g.H,{title:"Credential"}),(0,N.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,N.jsxs)(d.ZP,{item:!0,xs:12,md:4,sx:{borderRight:{xs:0,md:1},borderBottom:{xs:1,md:0}},children:[(0,N.jsx)(l.Z,{sx:{textAlign:"left",p:1},children:(0,N.jsx)(o.Z,{activeStep:n,orientation:"vertical",children:O.map((function(e,t){return(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(m.Z,{children:e.label}),(0,N.jsxs)(u.Z,{children:[(0,N.jsx)(x.Z,{children:e.description}),(0,N.jsx)(l.Z,{sx:{mb:2},children:(0,N.jsxs)("div",{children:[(O.length,""),(O.length,"")]})})]})]},e.label)}))})}),n===O.length-1&&(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(h.Z,{severity:"info",sx:{m:2,textAlign:"left"},children:(0,N.jsx)(p.Z,{variant:"outlined",size:"small",color:"info",sx:{mt:1,mr:1},children:(0,N.jsx)(U,{to:"/",children:"Return Home"})})})})]}),(0,N.jsxs)(d.ZP,{item:!0,xs:12,md:8,sx:{alignItems:"center",justifyContent:"center",textAlign:"center"},justifyContent:"center",justifyItems:"center",children:[n===O.length-2&&(0,N.jsx)(Q,{handleNext:function(){r((function(e){return e+1}))}}),n===O.length-1&&(0,N.jsx)(M,{})]})]})]})}}}]);
//# sourceMappingURL=869.b2b80683.chunk.js.map